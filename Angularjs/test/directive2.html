<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>derective最简单的用法</title>
  <script src="../js/angular.js"></script>
</head>
<body ng-app="myApp">
  <div ng-controller="ctrl">
    <input type="text" repeatFinish="ts">
    <ul>
      <li ng-repeat="item in items" on-finish-repeat repeatFinish="ts">{{item}}--{{ts}}</li>
    </ul>
  </div>
  <script>
var app = angular.module("myApp",[]);
app.controller("ctrl",function($scope){
  $scope.items = [1,5,9,12];
}).directive("onFinishRepeat",function(){
  return {
    restrict:"EA",
    scope:{ts:"=repeatFinish"},
    link:function(scope,element,attr){
      if(scope.$last){
        console.log(repeatFinish);
      }
    }
  }
});


  </script>
</body>
</html>